{"remainingRequest":"/Users/max/Desktop/travel/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/max/Desktop/travel/client/src/components/TravelForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/max/Desktop/travel/client/src/components/TravelForm.vue","mtime":1588589179920},{"path":"/Users/max/Desktop/travel/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/max/Desktop/travel/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/max/Desktop/travel/client/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/max/Desktop/travel/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/max/Desktop/travel/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1cmxzIGZyb20gJy4uL3VybHMnCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICBkYXRlMjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCksCiAgICBuYW1lOiAnJywKICAgIGVtYWlsOiAnJywKICAgIHBob25lOiAnJywKICAgIGRlc3RpbmF0aW9uOiAnJywKICAgIHB1cnBvc2U6ICcnLAogICAgdHJhdmVsbGVyczogJycsCiAgICByZWFkVGVybXM6ICcnLAogICAgc2VsZWN0ZWRDb21tdW5pdHk6IG51bGwsCiAgICBjb21tdW5pdGllczogW10sCiAgICBzZWxlY3RlZENvbW11bml0eUdyb3VwOiBudWxsLAogICAgY29tbXVuaXR5R3JvdXBzOiBbXSwKICAgIGFycml2YWxEYXRlOiBudWxsLAogICAgZGVwYXJ0dXJlRGF0ZTogbnVsbCwKICAgIGNvbnRhY3RlZENvbW11bml0eTogZmFsc2UsCiAgICByZXF1aXJlQXNzaXN0YW5jZTogZmFsc2UsCiAgICB2YWxpZDogZmFsc2UsCiAgICByZXF1aXJlZEZpZWxkOiBbCiAgICAgIHYgPT4gISF2IHx8ICdUaGlzIGZpZWxkIGlzIHJlcXVpcmVkJwogICAgXSwKICAgIG5hbWVSdWxlczogWwogICAgICB2ID0+ICEhdiB8fCAnTmFtZSBpcyByZXF1aXJlZCcKICAgIF0sCiAgICBlbWFpbFJ1bGVzOiBbCiAgICAgIHYgPT4gISF2IHx8ICdFLW1haWwgaXMgcmVxdWlyZWQnLAogICAgICB2ID0+IC8uK0AuK1wuLisvLnRlc3QodikgfHwgJ0UtbWFpbCBtdXN0IGJlIHZhbGlkJywKICAgIF0sCiAgICB0cmF2ZWxsZXJSdWxlczogWwogICAgICB2ID0+ICEhdiB8fCAnVGhpcyBmaWVsZCBpcyByZXF1aXJlZCcKICAgIF0sCiAgICBwaG9uZVJ1bGVzOiBbCiAgICAgIC8vdiA9PiAvXlsyLTldXGR7Mn0tXGR7M30tXGR7NH0kLy50ZXN0KHYpIHx8ICdQaG9uZSBOdW1iZXIgbXVzdCBiZSB2YWxpZCcKICAgIF0sCiAgICBhcnJpdmFsUnVsZXM6IFsKICAgICAgdiA9PiB2IDw9IHRoaXMuZGF0ZTIgfHwgJ1RoaXMgZGF0ZSBtdXN0IGJlIGJlZm9yZSB0aGUgcmV0dXJuIGRhdGUnCiAgICBdLAogICAgZGVwYXJ0dXJlUnVsZXM6IFsKICAgICAgdiA9PiB2ID49IHRoaXMuZGF0ZTEgfHwgJ1RoaXMgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSByZXR1cm4gZGF0ZScKICAgIF0KICB9KSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXQoKXsKICAgICAgaWYodGhpcy5jb250YWN0ZWRDb21tdW5pdHkpIHRoaXMucmVxdWlyZUFzc2lzdGFuY2UgPSBmYWxzZQogICAgICBlbHNlIHRoaXMuc2VsZWN0ZWRDb21tdW5pdHlHcm91cCA9IDAKICAgICAgdGhpcy4kYXBpLnBvc3QodXJscy5jcmVhdGVOb3RpY2UsewogICAgICAgIG5hbWU6IHRoaXMubmFtZSwKICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICBwaG9uZTogdGhpcy5waG9uZSwKICAgICAgICBkZXN0aW5hdGlvbjogdGhpcy5zZWxlY3RlZENvbW11bml0eSwKICAgICAgICBwdXJwb3NlOiB0aGlzLnB1cnBvc2UsCiAgICAgICAgdHJhdmVsbGVyczogdGhpcy50cmF2ZWxsZXJzLAogICAgICAgIGFycml2YWxEYXRlOiB0aGlzLmRhdGUsCiAgICAgICAgcmV0dXJuRGF0ZTogdGhpcy5kYXRlMiwKICAgICAgICBjb250YWN0ZWRDb21tdW5pdHk6IHRoaXMuc2VsZWN0ZWRDb21tdW5pdHlHcm91cCwKICAgICAgICByZXF1aXJlQXNzaXN0YW5jZTogZmFsc2UsCiAgICAgIH0pCiAgICB9LAogICAgdmFsaWRhdGUoKXsKICAgICAgaWYgKHRoaXMuJHJlZnMuZm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy5zdWJtaXQoKQogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLiRhcGkuZ2V0KHVybHMuY29tbXVuaXRpZXMpLnRoZW4ocmVzcG9uc2UgPT4ge3RoaXMuY29tbXVuaXRpZXMgPSByZXNwb25zZS5kYXRhfSkKICAgIHRoaXMuJGFwaS5nZXQodXJscy5jb21tdW5pdHlHcm91cHMpLnRoZW4ocmVzcG9uc2UgPT4ge3RoaXMuY29tbXVuaXR5R3JvdXBzID0gcmVzcG9uc2UuZGF0YX0pCiAgfQp9Cg=="},{"version":3,"sources":["TravelForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TravelForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container class=travelForm>\n    <v-form v-model=\"valid\" lazy-validation ref=\"form\">\n      Travel Form\n      <v-text-field\n      label=\"Name\"\n      v-model=\"name\"\n      :rules=\"nameRules\"\n      required\n      filled\n      ></v-text-field>\n\n      <v-text-field\n      label=\"Email\"\n      v-model=\"email\"\n      :rules=\"emailRules\"\n      required\n      filled\n      ></v-text-field>\n\n      <v-text-field\n      label=\"Phone Number\"\n      v-model=\"phone\"\n      :rules=\"requiredField\"\n      required\n      filled\n      ></v-text-field>\n\n      <v-textarea :rules=\"requiredField\" v-model=\"purpose\" auto-grow label=\"Purpose for Travel\" filled></v-textarea>\n\n      <v-select\n      label=\"Travel Locations\"\n      :items=\"communities\"\n      item-text=\"name\"\n      item-value=\"id\"\n      :rules=\"requiredField\"\n      v-model=\"selectedCommunity\"\n      filled\n      ></v-select>\n\n      <v-text-field\n      label=\"Number of people going\"\n      v-model=\"travellers\"\n      type=\"number\"\n      :rules=\"requiredField\"\n      single-line\n      filled\n      ></v-text-field>\n\n      <v-menu v-model=\"arrivalDate\" :close-on-content-click=\"false\" :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"290px\">\n        <template v-slot:activator=\"{ on }\">\n          <v-text-field filled v-model=\"date\" label=\"Arival Date\" readonly v-on=\"on\"></v-text-field>\n        </template>\n        <v-date-picker v-model=\"date\" @input=\"arrivalDate = false\" color=\"#4a263c\"></v-date-picker>\n      </v-menu>\n\n      <v-menu v-model=\"departureDate\" :close-on-content-click=\"false\" :nudge-right=\"40\" transition=\"scale-transition\" offset-y min-width=\"290px\">\n        <template v-slot:activator=\"{ on }\">\n          <v-text-field filled v-model=\"date2\" label=\"Return Date\" readonly v-on=\"on\"></v-text-field>\n        </template>\n        <v-date-picker v-model=\"date2\" @input=\"departureDate = false\" color=\"#4a263c\"></v-date-picker>\n      </v-menu>\n\n      <a href=\"hss-covid-workplace-health-safety.pdf\">Covid Workplace Health and Safety</a>\n      <v-checkbox\n      label=\"I have read the Safety Declerations\"\n      v-model=\"readTerms\"\n      :rules=\"requiredField\"\n      ></v-checkbox>\n\n      <v-checkbox\n      label=\"I have contacted the community about my travel plans\"\n      v-model=\"contactedCommunity\"\n      ></v-checkbox>\n\n      <v-select\n      v-if=\"contactedCommunity\"\n      label=\"Which Community?\"\n      :items=\"communityGroups\"\n      item-text=\"name\"\n      item-value=\"id\"\n      v-model=\"selectedCommunityGroup\"\n      :rules=\"requiredField\"\n      ></v-select>\n\n      <v-checkbox\n      v-if=\"!contactedCommunity\"\n      label=\"I require assistance connecting with the community\"\n      v-model=\"requireAssistance\"\n      ></v-checkbox>\n\n      <v-btn :disabled=\"!valid\" color=\"success\" @click=\"validate\">Submit\n      </v-btn>\n    </v-form>\n  </v-container>\n</template>\n\n<script>\nimport urls from '../urls'\nexport default {\n  data: () => ({\n    date: new Date().toISOString().substr(0, 10),\n    date2: new Date().toISOString().substr(0, 10),\n    name: '',\n    email: '',\n    phone: '',\n    destination: '',\n    purpose: '',\n    travellers: '',\n    readTerms: '',\n    selectedCommunity: null,\n    communities: [],\n    selectedCommunityGroup: null,\n    communityGroups: [],\n    arrivalDate: null,\n    departureDate: null,\n    contactedCommunity: false,\n    requireAssistance: false,\n    valid: false,\n    requiredField: [\n      v => !!v || 'This field is required'\n    ],\n    nameRules: [\n      v => !!v || 'Name is required'\n    ],\n    emailRules: [\n      v => !!v || 'E-mail is required',\n      v => /.+@.+\\..+/.test(v) || 'E-mail must be valid',\n    ],\n    travellerRules: [\n      v => !!v || 'This field is required'\n    ],\n    phoneRules: [\n      //v => /^[2-9]\\d{2}-\\d{3}-\\d{4}$/.test(v) || 'Phone Number must be valid'\n    ],\n    arrivalRules: [\n      v => v <= this.date2 || 'This date must be before the return date'\n    ],\n    departureRules: [\n      v => v >= this.date1 || 'This date must be after the return date'\n    ]\n  }),\n  methods: {\n    submit(){\n      if(this.contactedCommunity) this.requireAssistance = false\n      else this.selectedCommunityGroup = 0\n      this.$api.post(urls.createNotice,{\n        name: this.name,\n        email: this.email,\n        phone: this.phone,\n        destination: this.selectedCommunity,\n        purpose: this.purpose,\n        travellers: this.travellers,\n        arrivalDate: this.date,\n        returnDate: this.date2,\n        contactedCommunity: this.selectedCommunityGroup,\n        requireAssistance: false,\n      })\n    },\n    validate(){\n      if (this.$refs.form.validate()) {\n        this.submit()\n      }\n    }\n  },\n  mounted: function () {\n    this.$api.get(urls.communities).then(response => {this.communities = response.data})\n    this.$api.get(urls.communityGroups).then(response => {this.communityGroups = response.data})\n  }\n}\n</script>\n\n<style>\n.travelForm{\n  margin: 15px;\n}\n.calendar{\n  margin: 15px;\n}\n</style>\n"]}]}